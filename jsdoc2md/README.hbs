[![npm](https://img.shields.io/npm/v/mam.tools.js.svg)](https://www.npmjs.com/package/mam.tools.js)

# MAM Tools
A library containing tools to make the use of IOTAs Masked Authenticated Messaging more easy.

Included is a lib for node.js, a js module for mocking a MAM client so that no real IOTA node is needed for the testing
of MAM apps and a CLI.

## CLI
You can use all functions of the MAM library with a simple CLI. The releases contain binaries for different platforms with
that you can use MAM standalone from the command line:
```sh
$ mamCli-linux-x86 <command> [options]
```
It's also possible to run the cli directly with node/npm:
```sh
$ npm install
$ npm run cli <command> -- [options]
```
Note the extra '--' needed before the options.

### Setting Node
The option <code>--provider</code> must be set in all commands. It should be set to the URL of an IOTA full node supporting POW.

### Commands: 
#### readChannel    
Reads the content of a given MAM channel and printing information such as the channelRoot.

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| channelRoot | <code>string</code> |  | The root of the MAM channel. This is shared with others to read messages of a channel. |
| seed | <code>string</code> |  | The seed of the MAM channel. It's need to publish new messages to a MAM channel. |
| mode | <code>string</code> | 'public' | The mode of the MAM channel. Allowed are 'public', 'private' and 'restricted' |
| sideKey | <code>string</code> | <code>null</code> | The sideKey needed for MAM channels in restricted mode. This is needed to read messages from this channel and to publish new ones. |

Only channelRoot or seed are needed for reading a channel. The CLI will look for the channelRoot first and then for a seed.
If both aren't given a random seed is generated.

**Example**  
```sh
$ mamCli-linux-x86 readChannel --seed=THISISTHESEEDOFTHETICACCOUNTANDISHOULDNOTGIVEITTOANYBODYELSE --provider=https://your.favorite.node
```

#### publish    
Publishes a new message to a specified channel.

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| seed | <code>string</code> |  | The seed of the MAM channel. |
| mode | <code>string</code> | 'public' | The mode of the MAM channel. Allowed are 'public', 'private' and 'restricted' |
| sideKey | <code>string</code> | <code>null</code> | The sideKey needed for MAM channels in restricted mode. |
| toTrytes | <code>boolean</code> | true | Whether to convert the given text to trytes. |
| content | <code>string</code> |  | The message to publish. Remember to wrap the content in '' if it contains spaces. |
| readMessages | <code>boolean</code> | false | Whether to read the channel's content after publishing |

**Example**  
```sh
$ mamCli-linux-x86 publish --seed=THISISTHESEEDOFTHETICACCOUNTANDISHOULDNOTGIVEITTOANYBODYELSE --provider=https://your.favorite.node
    -content='Hello World' --readMessages
```
* * *
## API Reference
{{#module name="mamClient"}}
{{>body~}}
{{>member-index~}}
{{>members~}}
{{/module}}
* * *
## Types
{{#module name="types"}}
{{>body~}}
{{>member-index~}}
{{>members~}}
{{/module}}
* * *

&copy; 2018 Robin Lamberti \<lamberti.robin@gmail.com\>. Documented by [jsdoc-to-markdown](https://github.com/jsdoc2md/jsdoc-to-markdown).
